<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Classroom Quiz Portal</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f4f6f9;
      margin: 0;
      padding: 0;
    }

    .container {
      max-width: 400px;
      background: white;
      margin: 80px auto;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.2);
    }

    h2 {
      text-align: center;
      color: #333;
    }

    input, select {
      width: 100%;
      padding: 10px;
      margin: 10px 0;
      border: 1px solid #ccc;
      border-radius: 5px;
    }

    button {
      width: 100%;
      background: #007bff;
      color: white;
      border: none;
      padding: 10px;
      border-radius: 5px;
      cursor: pointer;
    }

    button:hover {
      background: #0056b3;
    }

    .link {
      text-align: center;
      margin-top: 10px;
      color: #007bff;
      cursor: pointer;
    }

    .hidden { display: none; }

    /* Dashboard Styles */
    .dashboard {
      max-width: 700px;
      background: white;
      margin: 50px auto;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }

    .logout-btn {
      background: crimson;
      margin-top: 20px;
    }

    .quiz-box {
      margin-top: 20px;
      border-top: 1px solid #ccc;
      padding-top: 10px;
    }

    textarea {
      width: 100%;
      min-height: 60px;
      margin-bottom: 10px;
    }

  </style>
</head>
<body>

  <!-- Login Page -->
  <div class="container" id="loginPage">
    <h2>Login</h2>
    <input type="text" id="loginName" placeholder="Enter Name" />
    <input type="password" id="loginPassword" placeholder="Enter Password" />
    <select id="loginRole">
      <option value="student">Student</option>
      <option value="faculty">Faculty</option>
    </select>
    <button onclick="login()">Login</button>
    <div class="link" onclick="showSignup()">Create an Account</div>
  </div>

  <!-- Signup Page -->
  <div class="container hidden" id="signupPage">
    <h2>Create Account</h2>
    <input type="text" id="signupName" placeholder="Full Name" />
    <input type="text" id="signupEnroll" placeholder="Enrollment No." />
    <input type="password" id="signupPassword" placeholder="Password" />
    <select id="signupRole">
      <option value="student">Student</option>
      <option value="faculty">Faculty</option>
    </select>
    <button onclick="signup()">Sign Up</button>
    <div class="link" onclick="showLogin()">Back to Login</div>
  </div>

  <!-- Student Dashboard -->
  <div class="dashboard hidden" id="studentDashboard">
    <h2>Welcome, <span id="studentName"></span> üëã</h2>
    <h3>Leaderboard & Quiz Progress</h3>
    <p>Here you can see your quizzes, ranks, and performance once implemented.</p>

    <div class="quiz-box">
      <h4>Leaderboard View:</h4>
      <ul>
        <li>üèÜ Classic Ranking</li>
        <li>‚ö° Fastest First</li>
        <li>üéØ Accuracy Leaderboard</li>
        <li>üî• Streaks Board</li>
      </ul>
    </div>

    <button class="logout-btn" onclick="logout()">Logout</button>
  </div>

  <!-- Faculty Dashboard -->
  <div class="dashboard hidden" id="facultyDashboard">
    <h2>Welcome, Prof. <span id="facultyName"></span> üë©‚Äçüè´</h2>
    <h3>Create & Manage Quizzes</h3>

    <div class="quiz-box">
      <h4>Create a New Quiz</h4>
      <input type="text" id="quizTitle" placeholder="Enter Quiz Title" />
      <textarea id="quizQuestions" placeholder="Enter Questions (one per line)..."></textarea>
      <button onclick="createQuiz()">Create Quiz</button>
    </div>

    <div class="quiz-box">
      <h4>Existing Quizzes</h4>
      <ul id="quizList"></ul>
    </div>

    <button class="logout-btn" onclick="logout()">Logout</button>
  </div>

  <script>
    let currentUser = null;

    function showSignup() {
      document.getElementById('loginPage').classList.add('hidden');
      document.getElementById('signupPage').classList.remove('hidden');
    }

    function showLogin() {
      document.getElementById('signupPage').classList.add('hidden');
      document.getElementById('loginPage').classList.remove('hidden');
    }

    function signup() {
      const name = document.getElementById('signupName').value.trim();
      const enroll = document.getElementById('signupEnroll').value.trim();
      const password = document.getElementById('signupPassword').value.trim();
      const role = document.getElementById('signupRole').value;

      if (!name || !password || !enroll) {
        alert("Please fill all fields!");
        return;
      }

      let users = JSON.parse(localStorage.getItem("users")) || [];
      if (users.some(u => u.enroll === enroll)) {
        alert("User with this enrollment already exists!");
        return;
      }

      users.push({ name, enroll, password, role });
      localStorage.setItem("users", JSON.stringify(users));

      currentUser = { name, enroll, role };
      alert("Account created successfully!");

      if (role === "student") showStudentDashboard();
      else showFacultyDashboard();
    }

    function login() {
      const name = document.getElementById('loginName').value.trim();
      const password = document.getElementById('loginPassword').value.trim();
      const role = document.getElementById('loginRole').value;

      const users = JSON.parse(localStorage.getItem("users")) || [];
      const found = users.find(u => u.name === name && u.password === password && u.role === role);

      if (!found) {
        alert("Invalid credentials!");
        return;
      }

      currentUser = found;
      alert("Login successful!");

      if (role === "student") showStudentDashboard();
      else showFacultyDashboard();
    }

    function showStudentDashboard() {
      document.getElementById('loginPage').classList.add('hidden');
      document.getElementById('signupPage').classList.add('hidden');
      document.getElementById('studentDashboard').classList.remove('hidden');
      document.getElementById('studentName').textContent = currentUser.name;
    }

    function showFacultyDashboard() {
      document.getElementById('loginPage').classList.add('hidden');
      document.getElementById('signupPage').classList.add('hidden');
      document.getElementById('facultyDashboard').classList.remove('hidden');
      document.getElementById('facultyName').textContent = currentUser.name;

      loadQuizzes();
    }

    function createQuiz() {
      const title = document.getElementById('quizTitle').value.trim();
      const questions = document.getElementById('quizQuestions').value.trim();

      if (!title || !questions) {
        alert("Please enter quiz title and questions!");
        return;
      }

      let quizzes = JSON.parse(localStorage.getItem("quizzes")) || [];
      quizzes.push({ title, questions, createdBy: currentUser.name });
      localStorage.setItem("quizzes", JSON.stringify(quizzes));

      alert("Quiz created successfully!");
      document.getElementById('quizTitle').value = "";
      document.getElementById('quizQuestions').value = "";

      loadQuizzes();
    }

    function loadQuizzes() {
      let quizzes = JSON.parse(localStorage.getItem("quizzes")) || [];
      const list = document.getElementById('quizList');
      list.innerHTML = "";

      quizzes.forEach((q, i) => {
        const li = document.createElement("li");
        li.textContent = `${i + 1}. ${q.title} (by ${q.createdBy})`;
        list.appendChild(li);
      });
    }

    function logout() {
      currentUser = null;
      document.getElementById('studentDashboard').classList.add('hidden');
      document.getElementById('facultyDashboard').classList.add('hidden');
      document.getElementById('loginPage').classList.remove('hidden');
    }
  </script>

</body>
</html>
